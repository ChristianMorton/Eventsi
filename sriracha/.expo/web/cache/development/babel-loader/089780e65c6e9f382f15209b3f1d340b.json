{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/christianmorton/Eventsi/sriracha/src/components/CreatePost.js\";\n\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport AppTextInput from \"./AppTextInput\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getEventPosts } from \"../redux/actions/events\";\nimport { db } from \"../config/Firebase\";\nimport * as firebase from \"firebase\";\n\nvar CreatePost = function CreatePost(_ref) {\n  var idOfEvent = _ref.idOfEvent,\n      user = _ref.user;\n  var postCollection = db.collection(\"events\").doc(idOfEvent).collection(\"posts\");\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var getTimestamp = function getTimestamp() {\n    return new firebase.firestore.Timestamp.fromDate(new Date(Date.now()));\n  };\n\n  var sendPost = function sendPost() {\n    var message = {\n      text: text,\n      name: user.name,\n      uid: user.uid,\n      timestamp: getTimestamp()\n    };\n    postCollection.add(message);\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, React.createElement(AppTextInput, {\n    value: text,\n    onChangeText: function onChangeText(text) {\n      return setText(text);\n    },\n    leftIcon: \"account\",\n    placeholder: \"Enter Post\",\n    autoCapitalize: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    title: \"Make post\",\n    onPress: sendPost,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({});\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getEventPosts: getEventPosts\n  }, dispatch);\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreatePost);","map":{"version":3,"sources":["/Users/christianmorton/Eventsi/sriracha/src/components/CreatePost.js"],"names":["React","useState","AppTextInput","connect","bindActionCreators","getEventPosts","db","firebase","CreatePost","idOfEvent","user","postCollection","collection","doc","text","setText","getTimestamp","firestore","Timestamp","fromDate","Date","now","sendPost","message","name","uid","timestamp","add","styles","StyleSheet","create","mapDispatchToProps","dispatch","mapStateToProps","state"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;AAEA,OAAOC,YAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,aAAT;AACA,SAASC,EAAT;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAyB;AAAA,MAAtBC,SAAsB,QAAtBA,SAAsB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAC1C,MAAMC,cAAc,GAAGL,EAAE,CACtBM,UADoB,CACT,QADS,EAEpBC,GAFoB,CAEhBJ,SAFgB,EAGpBG,UAHoB,CAGT,OAHS,CAAvB;;AAD0C,kBAMlBX,QAAQ,CAAC,EAAD,CANU;AAAA;AAAA,MAMnCa,IANmC;AAAA,MAM7BC,OAN6B;;AAQ1C,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,WAAO,IAAIT,QAAQ,CAACU,SAAT,CAAmBC,SAAnB,CAA6BC,QAAjC,CAA0C,IAAIC,IAAJ,CAASA,IAAI,CAACC,GAAL,EAAT,CAA1C,CAAP;AACD,GAFD;;AAIA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAMC,OAAO,GAAG;AACdT,MAAAA,IAAI,EAAEA,IADQ;AAEdU,MAAAA,IAAI,EAAEd,IAAI,CAACc,IAFG;AAGdC,MAAAA,GAAG,EAAEf,IAAI,CAACe,GAHI;AAIdC,MAAAA,SAAS,EAAEV,YAAY;AAJT,KAAhB;AAOAL,IAAAA,cAAc,CAACgB,GAAf,CAAmBJ,OAAnB;AACD,GATD;;AAWA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AACE,IAAA,KAAK,EAAET,IADT;AAEE,IAAA,YAAY,EAAE,sBAACA,IAAD;AAAA,aAAUC,OAAO,CAACD,IAAD,CAAjB;AAAA,KAFhB;AAGE,IAAA,QAAQ,EAAC,SAHX;AAIE,IAAA,WAAW,EAAC,YAJd;AAKE,IAAA,cAAc,EAAC,MALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,WAAd;AAA0B,IAAA,OAAO,EAAEQ,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF;AAYD,CAnCD;;AAqCA,IAAMM,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB,EAAlB,CAAf;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO5B,kBAAkB,CAAC;AAAEC,IAAAA,aAAa,EAAbA;AAAF,GAAD,EAAoB2B,QAApB,CAAzB;AACD,CAFD;;AAIA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,SAAO;AACLxB,IAAAA,IAAI,EAAEwB,KAAK,CAACxB;AADP,GAAP;AAGD,CAJD;;AAMA,eAAeP,OAAO,CAAC8B,eAAD,EAAkBF,kBAAlB,CAAP,CAA6CvB,UAA7C,CAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { View, Text, StyleSheet, Button } from \"react-native\";\nimport AppTextInput from \"./AppTextInput\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { getEventPosts } from \"../redux/actions/events\";\nimport { db } from \"../config/Firebase\";\nimport * as firebase from \"firebase\";\n\nconst CreatePost = ({ idOfEvent, user }) => {\n  const postCollection = db\n    .collection(\"events\")\n    .doc(idOfEvent)\n    .collection(\"posts\");\n\n  const [text, setText] = useState(\"\");\n\n  const getTimestamp = () => {\n    return new firebase.firestore.Timestamp.fromDate(new Date(Date.now()));\n  };\n\n  const sendPost = () => {\n    const message = {\n      text: text,\n      name: user.name,\n      uid: user.uid,\n      timestamp: getTimestamp(),\n    };\n\n    postCollection.add(message);\n  };\n\n  return (\n    <View>\n      <AppTextInput\n        value={text}\n        onChangeText={(text) => setText(text)}\n        leftIcon=\"account\"\n        placeholder=\"Enter Post\"\n        autoCapitalize=\"none\"\n      />\n      <Button title=\"Make post\" onPress={sendPost} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ getEventPosts }, dispatch);\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreatePost);\n"]},"metadata":{},"sourceType":"module"}